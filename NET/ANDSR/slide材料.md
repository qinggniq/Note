# Slide材料

用于回答甲方的问题。

1. 为什么我们使用Monosat
2. 我们可不可以用传统算法解决这个问题
3. 对于解决这个问题，
   1. 有哪些方法
   2. 这些方法的效果如何
   3. 效果不一样的原理是什么

第一个和第二个问题实际上是第三个问题的特化，我们着重解释第三个问题。

## 解决网络可达性的几类方法

### SAT求解器

将图可达性的语义使用一阶逻辑公式表达出来，然后调用SAT求解器求解。这也是AWS中使用的第一种方法，而这种方法的扩展性和性能都很差。

### SMT求解器

SMT求解器 = SAT求解器 + 理论求解器

使用一个支持图理论求解的SMT求解器求解图可达性问题。目前对图理论求解有直接支持的SMT求解器只有Monosat，它提出了单调性理论，利用图可达性的单调性质来剪枝，排除掉不可能的搜索路径，加速理论求解。

### ASP（回答集编程）系统

将图的可达性使用ASP语言描述可达性理论，然后调用ASP求解器求解（clasp）。clasp和SAT求解器、SMT求解器使用了同样的底层求解算法，但是添加了许多优化，比如布尔限制传播（剪枝）、子句学习（用于剪枝）、子句删除策略（用于减小程序运行时空间）、赋值启发（更好的搜索）、非时间回溯（用于剪枝）、重启（即根据一定策略定期将程序重启，清理空间，在原来学习到的子句的基础上重新运行求解程序），由于clasp集成了许多对于CDCL的优化策略，所以在ASP程序比赛中，也取得了很好的成绩。

图

而相比于clasp，monosat中实现的CDCL求解算法中没有添加太多的优化，所以在图规模较小，但是限制条件较多的场景，clasp显现出比monosat更快的求解速度；但是在图规模较大的情况，monosat由于其对图理论求解器的设计，导致monosat在大规模图可达性问题求解方面效率更佳，也更具扩展性。

### DataLog

//todo

### 传统算法

对于传统的图可达性算法的优化方法基于下面的事实：

> $reach(v, v) = true$
>
> $edge(v, u) \implies reach(v, u)$
>
> $\exist w.edge(w, u)\and reach(v,w) \implies reach(v, u) $

也就是$edge(a, b) \and edge(b, c) \implies reach(a, c)$。

以上有关图可达性查询的算法，除了传统的DFS/BFS，其他基于图传递闭包、基于生成树添加索引优化、基于联通链添加索引优化都是基于上述的可达性定义。而网络可达性的定义除了上述的定义之外，还增加了对于path的限定。

### 总结

| 求解方法       | SAT                              | Monostat         | ASP              | dfs                            |
| -------------- | -------------------------------- | ---------------- | ---------------- | ------------------------------ |
| 复杂度         | NP                               | NP               | NP               | $O((V + E)*N^2)$               |
| 性能           | 低                               | 图大/高；图小/低 | 图大/低；图小/高 | -                              |
| 扩展性（求解） | 低                               | 高               | 低               | -                              |
| 扩展性（编程） | 低（需要把图语义编码到一阶逻辑） | 高（简单的接口） | 需要熟悉ASP语法  | 计算与逻辑耦合，需要良好的设计 |

